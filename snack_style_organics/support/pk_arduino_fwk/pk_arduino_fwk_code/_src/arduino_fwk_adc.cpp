/*=====================================================================================*/
/**
 * arduino_fwk_adc.cpp
 * author : puch
 * date : Oct 22 2015
 *
 * description : Any comments
 *
 */
/*=====================================================================================*/

/*=====================================================================================*
 * Project Includes
 *=====================================================================================*/
#include "arduino_fwk_adc.h"
/*=====================================================================================* 
 * Standard Includes
 *=====================================================================================*/
#include "Arduino.h"
#include <avr/pgmspace.h>
/*=====================================================================================* 
 * Local X-Macros
 *=====================================================================================*/

/*=====================================================================================* 
 * Local Define Macros
 *=====================================================================================*/

/*=====================================================================================* 
 * Local Type Definitions
 *=====================================================================================*/

/*=====================================================================================* 
 * Local Object Definitions
 *=====================================================================================*/

/*=====================================================================================* 
 * Exported Object Definitions
 *=====================================================================================*/

/*=====================================================================================* 
 * Local Function Prototypes
 *=====================================================================================*/
const uint8_t ADC_Channel_To_Pin[] PROGMEM =
{
   ARDUINO_DIO_CHANNEL_14,/*ARDUINO_ADC_CHANNEL_0*/
   ARDUINO_DIO_CHANNEL_15,/*ARDUINO_ADC_CHANNEL_1*/
   ARDUINO_DIO_CHANNEL_16,/*ARDUINO_ADC_CHANNEL_2*/
   ARDUINO_DIO_CHANNEL_17,/*ARDUINO_ADC_CHANNEL_3*/
   ARDUINO_DIO_CHANNEL_18,/*ARDUINO_ADC_CHANNEL_4*/
   ARDUINO_DIO_CHANNEL_19,/*ARDUINO_ADC_CHANNEL_5*/
};
/*=====================================================================================* 
 * Local Inline-Function Like Macros
 *=====================================================================================*/

/*=====================================================================================* 
 * Local Function Definitions
 *=====================================================================================*/

/*=====================================================================================* 
 * Exported Function Definitions
 *=====================================================================================*/
void arduino::Init_ADC(const ARDUINO_ADC_CHANNEL_T channel)
{
   if(channel < ARDUINO_ADC_MAX_CHANNELS)
   {
       pinMode(pgm_read_byte(ADC_Channel_To_Pin + channel), INPUT);
   }
}
uint16_t arduino::Get_ADC(const ARDUINO_ADC_CHANNEL_T channel)
{
   uint16_t read = 0xFFFFU;
   if(channel < ARDUINO_ADC_MAX_CHANNELS)
   {
      read = analogRead(pgm_read_byte(ADC_Channel_To_Pin + channel));
   }
   return read;
}

void arduino::Stop_ADC(const ARDUINO_ADC_CHANNEL_T channel)
{
   if(channel < ARDUINO_ADC_MAX_CHANNELS)
   {
      analogWrite(pgm_read_byte(ADC_Channel_To_Pin + channel), INPUT);
   }
}
/*=====================================================================================* 
 * arduino_fwk_adc.cpp
 *=====================================================================================*
 * Log History
 *
 *=====================================================================================*/
